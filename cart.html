<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keranjang Belanja - Toko Komputer MEY Semarang</title>
    <meta name="description" content="Lihat dan kelola keranjang belanja Anda di Toko Komputer Semarang. Proses checkout yang mudah dan aman.">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <style>
        /* Cart Specific Styles */
        .cart-section {
            min-height: 60vh;
        }
        
        .cart-item {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }
        
        .cart-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .cart-item-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        
        .cart-item-details {
            flex: 1;
            margin-left: 1.5rem;
        }
        
        .cart-item-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 0.5rem;
            text-decoration: none;
            display: block;
        }
        
        .cart-item-title:hover {
            color: var(--primary-color);
        }
        
        .cart-item-category {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .cart-item-price {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .quantity-btn-cart {
            width: 32px;
            height: 32px;
            border: 1px solid var(--border-color);
            background: white;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quantity-btn-cart:hover {
            background: var(--light-bg);
            border-color: var(--primary-color);
            color: var(--primary-color);
        }
        
        .quantity-input-cart {
            width: 50px;
            height: 32px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            text-align: center;
            font-weight: 500;
        }
        
        .cart-item-total {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--dark-color);
            min-width: 120px;
            text-align: right;
        }
        
        .cart-item-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-left: 1rem;
        }
        
        .btn-remove {
            background: none;
            border: none;
            color: #ff6b6b;
            padding: 0.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-remove:hover {
            background: #fff5f5;
            color: #ee5a52;
        }
        
        .btn-wishlist-cart {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-muted);
            padding: 0.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-wishlist-cart:hover {
            border-color: #ff6b6b;
            color: #ff6b6b;
        }
        
        .cart-summary {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 1px solid var(--border-color);
            position: sticky;
            top: 120px;
        }
        
        .cart-summary-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .summary-item:last-child {
            border-bottom: none;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--dark-color);
            padding-top: 1rem;
        }
        
        .summary-label {
            color: var(--text-muted);
        }
        
        .summary-value {
            color: var(--dark-color);
            font-weight: 500;
        }
        
        .promo-code {
            margin-bottom: 1.5rem;
        }
        
        .promo-input-group {
            display: flex;
            gap: 0.5rem;
        }
        
        .promo-input {
            flex: 1;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.75rem;
            font-size: 0.9rem;
        }
        
        .btn-promo {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-promo:hover {
            background: var(--secondary-dark);
            transform: translateY(-1px);
        }
        
        .btn-checkout {
            width: 100%;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }
        
        .btn-checkout:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        
        .btn-continue-shopping {
            width: 100%;
            background: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            padding: 0.75rem;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-top: 0.5rem;
        }
        
        .btn-continue-shopping:hover {
            background: var(--primary-color);
            color: white;
        }
        
        .empty-cart {
            text-align: center;
            padding: 4rem 2rem;
        }
        
        .empty-cart-icon {
            font-size: 5rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            opacity: 0.5;
        }
        
        .empty-cart-title {
            font-size: 1.5rem;
            color: var(--dark-color);
            margin-bottom: 1rem;
        }
        
        .empty-cart-text {
            color: var(--text-muted);
            margin-bottom: 2rem;
        }
        
        .btn-shop-now {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-shop-now:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        
        .cart-item-removing {
            animation: slideOut 0.3s ease forwards;
        }
        
        @keyframes slideOut {
            0% {
                opacity: 1;
                transform: translateX(0);
            }
            100% {
                opacity: 0;
                transform: translateX(100%);
            }
        }
        
        .promo-applied {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 0.75rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .promo-code-text {
            color: #0ea5e9;
            font-weight: 500;
        }
        
        .btn-remove-promo {
            background: none;
            border: none;
            color: #ef4444;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .btn-remove-promo:hover {
            background: #fef2f2;
        }
        
        @media (max-width: 768px) {
            .cart-item {
                padding: 1rem;
            }
            
            .cart-item-image {
                width: 80px;
                height: 80px;
            }
            
            .cart-item-details {
                margin-left: 1rem;
            }
            
            .cart-item-title {
                font-size: 1rem;
            }
            
            .cart-item-price {
                font-size: 1rem;
            }
            
            .cart-item-total {
                font-size: 1rem;
                min-width: 100px;
            }
            
            .cart-summary {
                margin-top: 2rem;
                position: relative;
                top: 0;
            }
            
            .product-actions {
                flex-direction: column;
                gap: 1rem;
            }
            
            .cart-item-actions {
                flex-direction: row;
                margin-left: 0;
                margin-top: 1rem;
            }
        }
        
        @media (max-width: 576px) {
            .cart-item {
                flex-direction: column;
                text-align: center;
            }
            
            .cart-item-image {
                margin: 0 auto 1rem;
            }
            
            .cart-item-details {
                margin-left: 0;
                margin-bottom: 1rem;
            }
            
            .cart-item-quantity {
                justify-content: center;
                margin-bottom: 1rem;
            }
            
            .cart-item-total {
                text-align: center;
                margin-bottom: 1rem;
            }
            
            .cart-item-actions {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">
                <i class="fas fa-microchip loading-icon"></i>
            </div>
            <h2 class="loading-text">Toko Komputer Semarang</h2>
            <p class="loading-subtitle">Memuat keranjang belanja Anda...</p>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand brand-logo" href="index.html">
                <i class="fas fa-microchip"></i>
                <span>Toko Komputer</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Beranda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="products.html">Produk</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Tentang</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Kontak</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">FAQ</a>
                    </li>
                </ul>
                
                <div class="navbar-actions">
                    <div class="search-box me-3">
                        <input type="text" class="form-control search-input" placeholder="Cari produk...">
                        <button class="search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    
                    <div class="user-actions">
                        <a href="#" class="action-btn" title="Login">
                            <i class="fas fa-user"></i>
                        </a>
                        <a href="cart.html" class="action-btn cart-btn active" title="Keranjang">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="cart-count">0</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header-section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 120px 0 60px;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="text-white mb-3" data-aos="fade-right">Keranjang Belanja</h1>
                    <p class="text-white-50 mb-0" data-aos="fade-right" data-aos-delay="100">
                        Kelola produk yang Anda pilih sebelum melakukan checkout
                    </p>
                </div>
                <div class="col-lg-4 text-lg-end" data-aos="fade-left">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb breadcrumb-custom justify-content-lg-end">
                            <li class="breadcrumb-item-custom"><a href="index.html">Beranda</a></li>
                            <li class="breadcrumb-item-custom"><a href="products.html">Produk</a></li>
                            <li class="breadcrumb-item-custom active">Keranjang</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </section>

    <!-- Cart Section -->
    <section class="cart-section py-5">
        <div class="container">
            <div class="row">
                <!-- Cart Items -->
                <div class="col-lg-8">
                    <div class="cart-items" id="cartItems" data-aos="fade-right">
                        <!-- Cart items will be loaded here by JavaScript -->
                    </div>
                    
                    <!-- Empty Cart -->
                    <div class="empty-cart" id="emptyCart" style="display: none;">
                        <div class="empty-cart-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <h3 class="empty-cart-title">Keranjang Anda Kosong</h3>
                        <p class="empty-cart-text">
                            Yuk, tambahkan produk favorit Anda ke keranjang dan mulai berbelanja!
                        </p>
                        <a href="products.html" class="btn btn-shop-now">
                            <i class="fas fa-shopping-bag me-2"></i>Mulai Belanja
                        </a>
                    </div>
                </div>
                
                <!-- Cart Summary -->
                <div class="col-lg-4">
                    <div class="cart-summary" data-aos="fade-left">
                        <h5 class="cart-summary-title">
                            <i class="fas fa-calculator me-2"></i>Ringkasan Belanja
                        </h5>
                        
                        <!-- Promo Code -->
                        <div class="promo-code">
                            <label for="promoCode" class="form-label-custom mb-2">Kode Promo</label>
                            <div class="promo-input-group">
                                <input type="text" class="promo-input" id="promoCode" placeholder="Masukkan kode promo">
                                <button class="btn-promo" id="applyPromo">Terapkan</button>
                            </div>
                        </div>
                        
                        <!-- Applied Promo -->
                        <div id="appliedPromo" style="display: none;">
                            <div class="promo-applied">
                                <span class="promo-code-text" id="appliedPromoText"></span>
                                <button class="btn-remove-promo" id="removePromo">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Summary Items -->
                        <div class="summary-item">
                            <span class="summary-label">Subtotal</span>
                            <span class="summary-value" id="subtotal">Rp 0</span>
                        </div>
                        
                        <div class="summary-item">
                            <span class="summary-label">Diskon</span>
                            <span class="summary-value text-success" id="discount">-Rp 0</span>
                        </div>
                        
                        <div class="summary-item">
                            <span class="summary-label">Ongkos Kirim</span>
                            <span class="summary-value" id="shipping">Rp 0</span>
                        </div>
                        
                        <div class="summary-item">
                            <span class="summary-label">Total</span>
                            <span class="summary-value" id="total">Rp 0</span>
                        </div>
                        
                        <!-- Checkout Button -->
                        <button class="btn-checkout" id="checkoutBtn">
                            <i class="fas fa-credit-card me-2"></i>Proses Checkout
                        </button>
                        
                        <!-- Continue Shopping -->
                        <a href="products.html" class="btn-continue-shopping">
                            <i class="fas fa-arrow-left me-2"></i>Lanjutkan Belanja
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2 class="text-white mb-3" data-aos="fade-up">Dapatkan Penawaran Eksklusif</h2>
                    <p class="text-white-50 mb-4" data-aos="fade-up" data-aos-delay="100">
                        Berlangganan newsletter kami untuk mendapatkan diskon spesial dan update produk terbaru
                    </p>
                    <form class="newsletter-form" data-aos="fade-up" data-aos-delay="200">
                        <div class="input-group">
                            <input type="email" class="form-control form-control-custom" placeholder="Masukkan email Anda..." required>
                            <button class="btn btn-light" type="submit">
                                <i class="fas fa-paper-plane me-2"></i>Berlangganan
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer-section py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="footer-brand">
                        <a href="index.html" class="brand-logo text-white">
                            <i class="fas fa-microchip"></i>
                            <span>Toko Komputer MEY</span>
                        </a>
                    </div>
                    <p class="footer-description">
                        Toko komputer terpercaya di Semarang dengan koleksi produk terlengkap dan harga terbaik.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-link" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" title="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="#" class="social-link" title="TikTok">
                            <i class="fab fa-TikTok"></i>
                        </a>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5 class="footer-title">Kategori</h5>
                    <ul class="footer-links">
                        <li><a href="/UTS_MEYDITA/UTS_MEYDITA/asset/aset/accesoris.png" class="footer-link">accesoris</a></li>
                        <li><a href="/UTS_MEYDITA/UTS_MEYDITA/asset/aset/casing.webp" class="footer-link">casing</a></li>
                        <li><a href="/UTS_MEYDITA/UTS_MEYDITA/asset/aset/keyboard.jpeg" class="footer-link">keyboard</a></li>
                        <li><a href="/UTS_MEYDITA/UTS_MEYDITA/asset/aset/memori.jpeg" class="footer-link">memori</a></li>
                        <li><a href="/UTS_MEYDITA/UTS_MEYDITA/asset/aset/monitor.webp" class="footer-link">monitor</a></li>
                        <li><a href="/UTS_MEYDITA/UTS_MEYDITA/asset/aset/mouse.webp" class="footer-link">mouse</a></li>
                    </ul>
                </div>
                
                <div class="col-lg-3 col-md-6 mb-4">
                    <h5 class="footer-title">Informasi</h5>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Tentang Kami</a></li>
                        <li><a href="#" class="footer-link">Cara Pemesanan</a></li>
                        <li><a href="#" class="footer-link">Pengiriman</a></li>
                        <li><a href="#" class="footer-link">Pembayaran</a></li>
                        <li><a href="#" class="footer-link">Garansi</a></li>
                        <li><a href="#" class="footer-link">FAQ</a></li>
                    </ul>
                </div>
                
                <div class="col-lg-3 col-md-6 mb-4">
                    <h5 class="footer-title">Kontak</h5>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Jl. srondol No. 123, Semarang</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>(+62) 1234-5678</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>info@tokokomputerMEYsemarang.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-clock"></i>
                            <span>Senin - Sabtu: 09:00 - 20:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <hr class="footer-divider">
            
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="footer-copyright mb-0">
                        &copy; 2025 Toko Komputer MEY Semarang. Hak Cipta Dilindungi.
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="footer-payments">
                        <i class="fab fa-cc-visa" title="Visa"></i>
                        <i class="fab fa-cc-mastercard" title="Mastercard"></i>
                        <i class="fab fa-cc-paypal" title="PayPal"></i>
                        <i class="fab fa-cc-apple-pay" title="Apple Pay"></i>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button class="back-to-top" title="Kembali ke Atas">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- Lottie Animation -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="js/main.js"></script>

    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true,
            offset: 100
        });

        // Cart Manager Class
        class CartManager {
            constructor() {
                this.cart = this.loadCart();
                this.promoCode = null;
                this.shipping = 0;
                this.init();
            }

            init() {
                this.renderCart();
                this.updateSummary();
                this.setupEventListeners();
            }

            loadCart() {
                const saved = localStorage.getItem('cart');
                return saved ? JSON.parse(saved) : [];
            }

            saveCart() {
                localStorage.setItem('cart', JSON.stringify(this.cart));
            }

            addItem(item) {
                const existingItem = this.cart.find(cartItem => cartItem.id === item.id);
                
                if (existingItem) {
                    existingItem.quantity += item.quantity;
                } else {
                    this.cart.push({
                        ...item,
                        id: item.id || Date.now().toString(),
                        price: parseInt(item.price)
                    });
                }
                
                this.saveCart();
                this.renderCart();
                this.updateSummary();
                this.showNotification('Produk ditambahkan ke keranjang!', 'success');
            }

            removeItem(id) {
                const itemElement = document.querySelector(`[data-item-id="${id}"]`);
                if (itemElement) {
                    itemElement.classList.add('cart-item-removing');
                    
                    setTimeout(() => {
                        this.cart = this.cart.filter(item => item.id !== id);
                        this.saveCart();
                        this.renderCart();
                        this.updateSummary();
                        this.showNotification('Produk dihapus dari keranjang', 'info');
                    }, 300);
                }
            }

            updateQuantity(id, quantity) {
                const item = this.cart.find(item => item.id === id);
                if (item) {
                    item.quantity = Math.max(1, parseInt(quantity));
                    this.saveCart();
                    this.renderCart();
                    this.updateSummary();
                }
            }

            clearCart() {
                this.cart = [];
                this.saveCart();
                this.renderCart();
                this.updateSummary();
            }

            calculateSubtotal() {
                return this.cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            }

            calculateDiscount() {
                const subtotal = this.calculateSubtotal();
                if (this.promoCode) {
                    switch (this.promoCode.code) {
                        case 'DISKON10':
                            return Math.floor(subtotal * 0.1);
                        case 'DISKON20':
                            return Math.floor(subtotal * 0.2);
                        case 'FREESHIP':
                            this.shipping = 0;
                            return 0;
                        default:
                            return 0;
                    }
                }
                return 0;
            }

            calculateShipping() {
                const subtotal = this.calculateSubtotal();
                if (this.promoCode && this.promoCode.code === 'FREESHIP') {
                    return 0;
                }
                return subtotal >= 500000 ? 0 : 25000;
            }

            calculateTotal() {
                const subtotal = this.calculateSubtotal();
                const discount = this.calculateDiscount();
                const shipping = this.calculateShipping();
                return subtotal - discount + shipping;
            }

            applyPromo(code) {
                const validPromos = [
                    { code: 'DISKON10', description: 'Diskon 10%', discount: '10%' },
                    { code: 'DISKON20', description: 'Diskon 20%', discount: '20%' },
                    { code: 'FREESHIP', description: 'Gratis Ongkir', discount: 'Free Shipping' }
                ];

                const promo = validPromos.find(p => p.code === code.toUpperCase());
                
                if (promo) {
                    this.promoCode = promo;
                    this.updateSummary();
                    this.showNotification(`Kode promo "${promo.description}" berhasil diterapkan!`, 'success');
                    return true;
                } else {
                    this.showNotification('Kode promo tidak valid', 'error');
                    return false;
                }
            }

            removePromo() {
                this.promoCode = null;
                this.updateSummary();
                this.showNotification('Kode promo dihapus', 'info');
            }

            renderCart() {
                const cartItemsContainer = document.getElementById('cartItems');
                const emptyCartContainer = document.getElementById('emptyCart');
                
                if (this.cart.length === 0) {
                    cartItemsContainer.style.display = 'none';
                    emptyCartContainer.style.display = 'block';
                    return;
                }

                cartItemsContainer.style.display = 'block';
                emptyCartContainer.style.display = 'none';

                cartItemsContainer.innerHTML = this.cart.map(item => `
                    <div class="cart-item d-flex align-items-center" data-item-id="${item.id}">
                        <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                        
                        <div class="cart-item-details">
                            <a href="product-detail.html?id=${item.id}" class="cart-item-title">${item.name}</a>
                            <div class="cart-item-category">${item.category || 'Produk'}</div>
                            <div class="cart-item-price">Rp ${item.price.toLocaleString('id-ID')}</div>
                        </div>
                        
                        <div class="cart-item-quantity">
                            <button class="quantity-btn-cart" onclick="cartManager.updateQuantity('${item.id}', ${item.quantity - 1})">
                                <i class="fas fa-minus"></i>
                            </button>
                            <input type="number" class="quantity-input-cart" value="${item.quantity}" 
                                   onchange="cartManager.updateQuantity('${item.id}', this.value)" min="1" max="10">
                            <button class="quantity-btn-cart" onclick="cartManager.updateQuantity('${item.id}', ${item.quantity + 1})">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        
                        <div class="cart-item-total">
                            Rp ${(item.price * item.quantity).toLocaleString('id-ID')}
                        </div>
                        
                        <div class="cart-item-actions">
                            <button class="btn-remove" onclick="cartManager.removeItem('${item.id}')" title="Hapus">
                                <i class="fas fa-trash"></i>
                            </button>
                            <button class="btn-wishlist-cart" onclick="cartManager.moveToWishlist('${item.id}')" title="Pindahkan ke Wishlist">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            updateSummary() {
                const subtotal = this.calculateSubtotal();
                const discount = this.calculateDiscount();
                const shipping = this.calculateShipping();
                const total = this.calculateTotal();

                document.getElementById('subtotal').textContent = `Rp ${subtotal.toLocaleString('id-ID')}`;
                document.getElementById('discount').textContent = `-Rp ${discount.toLocaleString('id-ID')}`;
                document.getElementById('shipping').textContent = shipping === 0 ? 'Gratis' : `Rp ${shipping.toLocaleString('id-ID')}`;
                document.getElementById('total').textContent = `Rp ${total.toLocaleString('id-ID')}`;

                // Update promo section
                const appliedPromoDiv = document.getElementById('appliedPromo');
                const promoCodeInput = document.getElementById('promoCode');
                
                if (this.promoCode) {
                    appliedPromoDiv.style.display = 'block';
                    document.getElementById('appliedPromoText').textContent = this.promoCode.description;
                    promoCodeInput.value = '';
                    promoCodeInput.disabled = true;
                } else {
                    appliedPromoDiv.style.display = 'none';
                    promoCodeInput.disabled = false;
                }

                // Update cart count
                this.updateCartCount();
            }

            updateCartCount() {
                const cartCount = document.querySelector('.cart-count');
                const totalItems = this.cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCount.textContent = totalItems;
            }

            moveToWishlist(id) {
                const item = this.cart.find(item => item.id === id);
                if (item) {
                    // Add to wishlist (you can implement wishlist functionality)
                    this.removeItem(id);
                    this.showNotification('Produk dipindahkan ke wishlist', 'success');
                }
            }

            setupEventListeners() {
                // Promo code functionality
                const applyPromoBtn = document.getElementById('applyPromo');
                const promoCodeInput = document.getElementById('promoCode');
                const removePromoBtn = document.getElementById('removePromo');
                const checkoutBtn = document.getElementById('checkoutBtn');

                applyPromoBtn.addEventListener('click', () => {
                    const code = promoCodeInput.value.trim();
                    if (code) {
                        this.applyPromo(code);
                    }
                });

                promoCodeInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        const code = promoCodeInput.value.trim();
                        if (code) {
                            this.applyPromo(code);
                        }
                    }
                });

                removePromoBtn.addEventListener('click', () => {
                    this.removePromo();
                });

                checkoutBtn.addEventListener('click', () => {
                    if (this.cart.length === 0) {
                        this.showNotification('Keranjang Anda kosong', 'error');
                        return;
                    }
                    
                    // Simulate checkout process
                    this.showNotification('Mengarahkan ke halaman checkout...', 'info');
                    setTimeout(() => {
                        // In a real application, you would redirect to checkout page
                        this.showNotification('Fitur checkout akan segera tersedia', 'info');
                    }, 1500);
                });
            }

            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
        }

        // Initialize cart manager
        const cartManager = new CartManager();

        // Make cartManager available globally for HTML onclick handlers
        window.cartManager = cartManager;
    </script>

    <style>
        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            padding: 1rem 1.5rem;
            z-index: 9999;
            transform: translateX(400px);
            transition: all 0.3s ease;
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .notification-success {
            border-left: 4px solid #10b981;
        }
        
        .notification-error {
            border-left: 4px solid #ef4444;
        }
        
        .notification-info {
            border-left: 4px solid #3b82f6;
        }
        
        .notification i {
            font-size: 1.2rem;
        }
        
        .notification-success i {
            color: #10b981;
        }
        
        .notification-error i {
            color: #ef4444;
        }
        
        .notification-info i {
            color: #3b82f6;
        }
        
        @media (max-width: 576px) {
            .notification {
                right: 10px;
                left: 10px;
                max-width: none;
                transform: translateY(-100px);
            }
            
            .notification.show {
                transform: translateY(0);
            }
        }
    </style>
</body>
</html>
